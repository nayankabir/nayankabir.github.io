<!doctype html>
<html>
<head>
    <link rel="stylesheet" type="text/css" href="../css/Assignment3.css">
    <meta charset="utf-8">
    <title>Untitled Document</title>
</head>
<h1>Member Registration</h1>

<body>
    <img src="../img/centennial.jpg" width="500" height="300" alt="" />
    <p>Please complete all the fields below:</p>

    <br />
    <form>
        <label for="user">First name:</label>
        <input id="firstNameInput" type="text" name="user" value="" /><br />

        <label for="address">Last name:</label>
        <input id="lastNameInput" type="text" name="address" value="" /><br />

        <label for="city">Address:</label>
        <input id="addressInput" type="text" name="user" value="" /><br />

        <label for="test2">City:</label>
        <input id="cityInput" type="text" name="test2" value="" /><br />

        <label for="city">Postal Code:</label>
        <input id="postalCodeInput" type="text" name="user" value="" /><br />

        <label for="provincesFilter">Province:</label>
        <input id="provinceInput" type="text" name="provinceInput" value="" /><br />

        <label for="city">Age:</label>
        <input id="ageInput" type="text" name="ageInput" value="" /><br />

        <label for="test2">Password:</label>
        <input id="passwordInput" type="text" name="test2" value="" /><br />

        <label for="city">Confirm:</label>
        <input id="passwordConfirmInput" type="text" name="user" value="" /><br />

        <label for="test2">Email:</label>
        <input id="emailInput" type="text" name="test2" value="" /><br />
    </form>
    <br />
    <button id="registerButton" type="submit" onclick="validateForm(); checkAge(ageInput); checkEmail(emailInput); checkPostal(postalCodeInput); checkPassword(passwordInput); checkConfirmPassword(passwordConfirmInput); checkProvinces(provinceInput);">Register Now</button>
    <button type="reset" onclick="return confirm('Are you sure you want to reset the form?')">Clear Form</button>
</body>
</html>

<!-- -------- -->
<!-- CSS Code -->

<style type="text/css">

	 label{
		 float: left;
		 width: 120px;
		 font-weight: bold;
	 }

	input, textarea{
		width: 180px;
		margin-bottom: 5px;
	}

	textarea{
		width: 250px;
		height: 150px;
	}

	.boxes{
		width: 1em;
	}

	#submitbutton{
		margin-left: 120px;
		margin-top: 5px;
		width: 90px;
	}

	br{
		clear: left;
	}
</style>

<!-- --------------- -->
<!-- JavaScript Code -->

<script>

    //Fields cannot be left blank
    function validateForm() {
        var x = document.forms.length;
        if (x < 1) {
            alert("Form must be completely filled out");
            return false;
        }
    }

    //Check Postal Code
    function checkPostal(postalCodeInput) {
        var regex = new RegExp(/^[ABCEGHJKLMNPRSTVXY]\d[ABCEGHJKLMNPRSTVWXYZ]( )?\d[ABCEGHJKLMNPRSTVWXYZ]\d$/i);
        if (!regex.test(postalCodeInput.value)) {
            alert("Please enter a valid postal code");
            regex.focus;
            return false;
        }
    }

    //Check Age
    function checkAge(ageInput) {

        if (ageInput < 18) {
            alert("You must be at least 18 years old");
            ageInput.focus;
            return false;
        }
        ageNumbers = /[0-9]/;
        if (!ageNumbers.test(ageInput.value)) {
            alert("Please enter numbers only for the age");
            ageInput.focus;
            return false;
        }
    }

    //Check E-mail
    function checkEmail() {

        var email = document.getElementById('emailInput');
        var filter = /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;

        if (!filter.test(email.value)) {
            alert('Please provide a valid email address');
            email.focus;
            return false;
        }
    }

    //Check Provinces
    function checkProvinces() {
        var province = document.getElementById("provinceInput");
        var provincesFilter = /^(["QC" || "ON" || "MN" || "SK" || "AB" || "BC"])+$/;
        if (!provincesFilter.test(province.value)) {
            alert("Please enter a valid province");
            province.focus;
            return false;
        }
    }

    //Check Password
    function checkPassword(passwordInput) {

        if (passwordInput.value == "") {
            alert("Password cannot be blank!");
            passwordInput.focus;
            return false;

        }
        if (passwordInput.value.length < 6) {
            alert("Please ensure password is longer than 6 characters");
            passwordInput.focus;
            return false;
        }
        numberCheck = /[0-9]/;
        if (!numberCheck.test(passwordInput.value)) {
            alert("You must have at least 1 number in your password");
            passwordInput.focus;
            return false;
        }
        lowercaseCheck = /[a-z]/;
        if (!lowercaseCheck.test(passwordInput.value)) {
            alert("Please enter at least 1 lower case letter in password");
            passwordInput.focus;
            return false;

        }

    }

    //Check Confirm Password
    function checkConfirmPassword() {
        var passwordMatch = document.getElementById("passwordConfirmInput");
        if (passwordMatch.value != passwordInput.value) {
            alert("Please make sure the confirm field is identical to the password chosen");
            passwordMatch.focus;
            return false;
        }
    }

    //Everything is valid!
    if (Page_ClientValidate(""))
        alert("Everything works!");
</script>
